<div id="show-event">
	

  <md-card>

    <div class="md-card-image cover-image-box"
      style="background: #ccc url('{{$ctrl.event.cover_photo.url}}');">
    </div>    

    <md-card-title>
      <md-card-title-text>
        <span class="md-headline">{{ $ctrl.event.name }}</span>
        <span class="md-subhead">{{ $ctrl.event.slogan }}</span>
  
      </md-card-title-text>
      <md-card-title-media>
        <div class="md-media-lg card-media overlay-box">
          <img ng-src="{{$ctrl.event.logo_photo.url}}" class="md-card-image" alt="logo">       
        </div>
      </md-card-title-media>      
    </md-card-title>

    <md-card-content>
      <form name="eventForm">

        <div layout-gt-sm="row">
          <md-input-container class="md-block" flex-gt-sm>
            <label>Type</label>
            <md-select 
                disabled
                name="etype"
                ng-model="$ctrl.event.etype">
              <md-option  ng-repeat="event in $ctrl.eventTypes"
                          value="{{event.id}}">
                {{event.name}}
              </md-option>
            </md-select>
          </md-input-container>

          <div flex="5" hide-xs="" hide-sm="">
            <!-- Spacer //-->
          </div>

          <md-input-container 
              class="md-block" flex-gt-sm>
              <label>Facebook</label>
              <input type="text"
                     disabled
                     name="facebook" ng-model="$ctrl.event.facebook">
          </md-input-container>

        </div>

        <div layout-gt-sm="row">
          <md-input-container 
              class="md-block" flex-gt-sm>
              <label>Contact Email</label>
              <input type="text"
                     disabled
                     name="contact_email" ng-model="$ctrl.event.contact_email">
          </md-input-container>

          <div flex="5" hide-xs="" hide-sm="">
            <!-- Spacer //-->
          </div>

          <md-input-container class="md-block" flex-gt-sm>
            <label>Phone Number</label>
            <input
                  name="institution"
                  ng-model="$ctrl.event.phone_number"
                  disabled
                  required/>
          </md-input-container>

        </div>

        <div layout-gt-sm="row">
        
          <md-input-container 
              class="md-block" flex-gt-sm>
              <label>Location</label>
              <textarea name="location" disabled ng-model="$ctrl.event.location" rows="3"></textarea> 
          </md-input-container>

          <div flex="5" hide-xs="" hide-sm="">
            <!-- Spacer //-->
          </div>

          <md-input-container class="md-block" flex-gt-sm>
            <label>Dates</label>
            <textarea name="dates" disabled ng-model="$ctrl.event.dates" rows="3"></textarea>
          </md-input-container>
        </div>

        <div layout-gt-sm="row">
        
          <md-input-container 
              class="md-block" flex-gt-sm>
              <label>agenda</label>
              <textarea name="agenda" disabled ng-model="$ctrl.event.agenda" rows="3"></textarea>
          </md-input-container>

          <div flex="5" hide-xs="" hide-sm="">
            <!-- Spacer //-->
          </div>

          <md-input-container class="md-block" flex-gt-sm>
            <label>description</label>
            <textarea name="description" disabled ng-model="$ctrl.event.description" rows="3"></textarea>
          </md-input-container>
        </div>

      </form>
    </md-card-content>

    <md-card-actions layout="row" layout-align="end center">
      <md-button 
        ng-click="$ctrl.editEvent()">
        Edit
      </md-button>
    </md-card-actions>
  </md-card>

  <md-card>
    <md-toolbar class="md-table-toolbar md-default">
      <div class="md-toolbar-tools">
        <span>Fees</span>
        <div flex></div>
        <md-button class="md-icon-button" ng-click="$ctrl.addFee()">
          <md-tooltip>
            Add
          </md-tooltip>
          <md-icon>add</md-icon>
        </md-button>         
        <md-button class="md-icon-button" ng-click="$ctrl.getFees()">
          <md-tooltip>
            Refresh
          </md-tooltip>
          <md-icon>refresh</md-icon>
        </md-button>            
      </div>
    </md-toolbar>

    <md-table-container>
      <table md-table md-progress="$ctrl.feesPromise">
        <thead md-head>
          <tr md-row>
            <th md-column><span>Name</span></th>
            <th md-column><span>Price</span></th>            
            <th md-column><span>Deadline</span></th>
            <th md-column><span>Public</span></th>
            <th md-column><span>Edit</span></th>
            <th md-column><span>Delete</span></th>
          </tr>
        </thead>
        <tbody md-body>
          <tr md-row 
              ng-repeat="fee in $ctrl.allFees track by fee.id">
            <td md-cell>{{fee.name}}</td>
            <td md-cell>{{fee.price}}</td>
            <td md-cell>{{fee.deadline}}</td>
            <td md-cell>{{fee.public_fee}}</td>
            <td md-cell ng-click="$ctrl.editFee($event, fee)">
              <md-icon>edit</md-icon>
            </td>
            <td md-cell ng-click="$ctrl.removeFee($event, fee)">
              <md-icon>delete</md-icon>
            </td>
          </tr>
        </tbody>
      </table>
    </md-table-container>
  </md-card>

  <md-card>
    <md-toolbar class="md-table-toolbar md-default">
      <div class="md-toolbar-tools">
        <span>Codes</span>
        <div flex></div>
        <md-button class="md-icon-button" ng-click="$ctrl.addCode()">
          <md-tooltip>
            Add
          </md-tooltip>
          <md-icon>add</md-icon>
        </md-button> 
        <md-button class="md-icon-button" ng-click="$ctrl.refresh()">
          <md-tooltip>
            Refresh
          </md-tooltip>
          <md-icon>refresh</md-icon>
        </md-button>    
      </div>
    </md-toolbar>    
    <md-table-container>
      <table md-table md-progress="$ctrl.promise">
        <thead md-head>
          <tr md-row>
            <th md-column><span>Fee</span></th>
            <th md-column><span>User</span></th>            
            <th md-column><span>Code</span></th>
            <th md-column><span>Delete</span></th>
          </tr>
        </thead>
        <tbody md-body>
          <tr md-row 
              ng-repeat="code in $ctrl.allCodes.data track by code.id">
            <td md-cell>{{code.fee.name}}</td>
            <td md-cell>{{code.user.name}}</td>
            <td md-cell>{{code.code}}</td>
            <td md-cell ng-click="$ctrl.removeFee($event, code)">
              <md-icon>delete</md-icon>
            </td>
          </tr>
        </tbody>
      </table>
    </md-table-container>
  </md-card>  

  <md-card ng-show="false">
    <md-toolbar class="md-table-toolbar md-default">
      <div class="md-toolbar-tools">
        <span>Participants</span>
        <div flex></div>
        <md-button class="md-icon-button" ng-click="$ctrl.refresh()">
          <md-tooltip>
            Refresh
          </md-tooltip>
          <md-icon>refresh</md-icon>
        </md-button>    
      </div>
    </md-toolbar>    

  </md-card>

  <md-card ng-show="false">
    <md-toolbar class="md-table-toolbar md-default" ng-hide="$ctrl.filter.show">
      <div class="md-toolbar-tools">
        <span>Applications</span>
        <div flex></div>
        <md-button class="md-icon-button" ng-click="$ctrl.refresh()">
          <md-tooltip>
            Refresh
          </md-tooltip>
          <md-icon>refresh</md-icon>
        </md-button>    
      </div>
    </md-toolbar>    

  </md-card>

</div>

