<!-- Title -->
<div class="page-title">
  <h1>Update profile</h1>
</div>
<!-- Form -->
<form
  name="updateUserForm"
  ng-submit="submitUpdatedUserData(userData)"
  role="form"
  class="update-form"
  novalidate>
  <!-- Form Validation Massages -->
  <validation-messages 
    form="updateUserForm"
    get-messages="formValidationMessages"
    get-title="farmValidationTitle">
  </validation-messages>
  <!-- Personal information -->
  <div class="page-section">
    <p class="section-title">Personal information</p>
    <!-- First name -->
    <div 
      class="section-row"
      ng-class="{
        'has-success': updateUserForm.firstname.$dirty && updateUserForm.firstname.$valid,
        'has-error': updateUserForm.firstname.$dirty && updateUserForm.firstname.$invalid
      }">
      <div class="section-column-left">
        <label for="firstname">First name</label>
      </div>
      <div class="section-column-right">
        <input
          name="firstname"
          ng-model="userData.first_name"
          type="text"
          class="form-control"
          required />
      </div>
    </div>
    <!-- Last name -->
    <div 
      class="section-row"
      ng-class="{
        'has-success': updateUserForm.lastname.$dirty && updateUserForm.lastname.$valid,
        'has-error': updateUserForm.lastname.$dirty && updateUserForm.lastname.$invalid
      }">
      <div class="section-column-left">
        <label for="lastname">Last name</label>
      </div>
      <div class="section-column-right">
        <input
          name="lastname"
          ng-model="userData.last_name"
          type="text"
          class="form-control"
          required />
      </div>
    </div>
    <!-- Birthday -->
    <div 
      class="section-row"
      ng-class="{
        'has-success': updateUserForm.birthday.$dirty && updateUserForm.birthday.$valid,
        'has-error': updateUserForm.birthday.$dirty && updateUserForm.birthday.$invalid
      }">
      <div class="section-column-left">
        <label for="birthday">Birthday</label>
      </div>
      <div class="section-column-right">
        <p class="input-group">
          <input 
            name="birthday" 
            type="text" 
            class="form-control" 
            datepicker-popup="dd.MM.yyyy" 
            ng-model="userData.date_of_birth" 
            is-open="opened" 
            max-date="maxDate" 
            datepicker-options="dateOptions" 
            show-button-bar="false" 
            date-format required />
          <span class="input-group-btn">
            <button 
              type="button" 
              class="btn btn-default" 
              ng-click="open($event)">
              <i class="glyphicon glyphicon-calendar"></i>
            </button>
          </span>
          </p>
      </div>
    </div>
    <!-- Gender -->
    <div class="section-row">
      <div class="section-column-left">
        <label for="gender">Gender</label>
      </div>
      <div class="section-column-right checkbox-row">
        <!-- Male -->
        <div
          class="btn btn-checkbox"
          style="margin-left:20px"
          ng-class="{active: !userData.gender}"
          ng-click="userData.gender=0;">
          Male
        </div>
        <!-- Female -->
        <div
          class="btn btn-checkbox"
          style="margin-left:20px"
          ng-class="{active: userData.gender}"
          ng-click="userData.gender=1">
          Female
        </div>
      </div>
    </div>
    <!-- City -->
    <div 
      class="section-row"
      ng-class="{
        'has-success': updateUserForm.city.$dirty && updateUserForm.city.$valid,
        'has-error': updateUserForm.city.$dirty && updateUserForm.city.$invalid
      }">
      <div class="section-column-left">
        <label for="city">City</label>
      </div>
      <div class="section-column-right">
        <input
          name="city"
          ng-model="userData.city"
          type="text"
          class="form-control"
          required />
      </div>
    </div>
    <!-- Country -->
    <div class="section-row">
      <div class="section-column-left">
        <label for="country">Country</label>
      </div>
      <div class="section-column-right">
        <select
          name="country"
          type="text"
          class="form-control"
          ng-model="userData.country"
          ng-options="country.code as country.name for country in getAllCountries"
          required />
      </div>
    </div>
  </div>
  <!-- JA-YE Program -->
  <div class="page-section">
    <p class="section-title">JA-YE Program</p>
    <!-- Program type -->
    <div class="section-row">
      <div class="section-column-left">
        <label for="programm_type">Program type</label>
      </div>
      <div class="section-column-right checkbox-row">
        <div class="btn btn-checkbox" style="margin-left:20px" ng-class="{active: userData.program_type === 0}" ng-click="userData.program_type=0;">Company</div>
        <div class="btn btn-checkbox" style="margin-left:20px" ng-class="{active: userData.program_type === 1}" ng-click="userData.program_type=1;">Startup</div>
        <div class="btn btn-checkbox" style="margin-left:20px" ng-class="{active: userData.program_type === 2}" ng-click="userData.program_type=2;">Other</div>
      </div>
    </div>
    <!-- Country of Participation -->
    <div class="section-row">
      <div class="section-column-left">
        <label for="country_of_participation">Country of Participation</label>
      </div>
      <div class="section-column-right">
        <select
        name="country_of_participation"
        type="text"
        class="form-control"
        ng-model="userData.country_of_participation"
        ng-options="country.code as country.name for country in getCountries"
        required />
      </div>
    </div>
    <!-- Institution -->
    <div 
      class="section-row"
      ng-class="{
        'has-success': updateUserForm.institution.$dirty && updateUserForm.institution.$valid,
        'has-error': updateUserForm.institution.$dirty && updateUserForm.institution.$invalid
      }">
      <div class="section-column-left">
        <label for="institution">Institution</label>
      </div>
      <div class="section-column-right">
        <input
          name="institution"
          ng-model="userData.institution"
          type="text"
          class="form-control"
          required />
      </div>
    </div>
    <!-- Year of Participation -->
    <div class="section-row">
      <div class="section-column-left">
        <label for="year_of_participation">Year of Participation</label>
      </div>
      <div class="section-column-right">
        <select
        name="year_of_participation"
        type="text"
        class="form-control"
        ng-model="userData.year_of_participation"
        ng-options="year for year in possibleYears"
        required />
      </div>
    </div>
    <!-- Student company name -->
      <div 
        class="section-row"
        ng-class="{
        'has-success': updateUserForm.student_company_name.$dirty && updateUserForm.student_company_name.$valid,
        'has-error': updateUserForm.student_company_name.$dirty && updateUserForm.student_company_name.$invalid
        }">
        <div class="section-column-left">
          <label for="student_company_name">Student company name</label>
        </div>
        <div class="section-column-right">
          <input
            name="student_company_name"
            ng-model="userData.student_company_name"
            type="text"
            class="form-control"
            required />
        </div>
      </div>
  </div>
  <!-- Submit -->
  <div class="page-section">
    <button
      name="edit"
      type="submit"
      class="btn btn-success">
      Submit
    </button>
  </div>
</form>
